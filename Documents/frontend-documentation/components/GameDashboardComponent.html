<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>galaxy-at-war documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">galaxy-at-war documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>GameDashboardComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/UIcomponents/game-dashboard/game-dashboard.component.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-game-dashboard</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./game-dashboard.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./game-dashboard.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#_username">_username</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#API_URL">API_URL</a>
                            </li>
                            <li>
                                <a href="#ArmyAmount">ArmyAmount</a>
                            </li>
                            <li>
                                <a href="#carrot">carrot</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#chatClient">chatClient</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#chatUrl">chatUrl</a>
                            </li>
                            <li>
                                <a href="#config">config</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#gameClient">gameClient</a>
                            </li>
                            <li>
                                <a href="#GameId">GameId</a>
                            </li>
                            <li>
                                <a href="#gameScene">gameScene</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#gameUrl">gameUrl</a>
                            </li>
                            <li>
                                <a href="#KeyBoardKeys">KeyBoardKeys</a>
                            </li>
                            <li>
                                <a href="#Money">Money</a>
                            </li>
                            <li>
                                <a href="#phaserGame">phaserGame</a>
                            </li>
                            <li>
                                <a href="#Player">Player</a>
                            </li>
                            <li>
                                <a href="#Point">Point</a>
                            </li>
                            <li>
                                <a href="#preloadStatus">preloadStatus</a>
                            </li>
                            <li>
                                <a href="#xCoordinate">xCoordinate</a>
                            </li>
                            <li>
                                <a href="#yCoordinate">yCoordinate</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#getScene">getScene</a>
                            </li>
                            <li>
                                <a href="#initializeChatSocketConnection">initializeChatSocketConnection</a>
                            </li>
                            <li>
                                <a href="#initializeWebSocketConnection">initializeWebSocketConnection</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onAddUnitsAttempt">onAddUnitsAttempt</a>
                            </li>
                            <li>
                                <a href="#refreshArmyUnits">refreshArmyUnits</a>
                            </li>
                            <li>
                                <a href="#refreshFleetUnits">refreshFleetUnits</a>
                            </li>
                            <li>
                                <a href="#sendChatMessage">sendChatMessage</a>
                            </li>
                            <li>
                                <a href="#sendToServer">sendToServer</a>
                            </li>
                            <li>
                                <a href="#setLabelAmount">setLabelAmount</a>
                            </li>
                            <li>
                                <a href="#setPlanetPosition">setPlanetPosition</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(_router: <a href="https://angular.io/api/router/Router" target="_blank">Router</a>, _route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, location: <a href="https://angular.io/api/common/PlatformLocation" target="_blank">PlatformLocation</a>, _userSession: <a href="../injectables/UserSessionService.html">UserSessionService</a>, _xmlhttp: <a href="../injectables/XmlhttpService.html">XmlhttpService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:50</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>_router</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/Router" target="_blank" >Router</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_route</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>location</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/common/PlatformLocation" target="_blank" >PlatformLocation</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_userSession</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UserSessionService.html" target="_self" >UserSessionService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_xmlhttp</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/XmlhttpService.html" target="_self" >XmlhttpService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getScene"></a>
                    <span class="name">
                        <b>
                            getScene
                        </b>
                        <a href="#getScene"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getScene()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="181"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:181</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeChatSocketConnection"></a>
                    <span class="name">
                        <b>
                            initializeChatSocketConnection
                        </b>
                        <a href="#initializeChatSocketConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initializeChatSocketConnection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="100"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:100</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeWebSocketConnection"></a>
                    <span class="name">
                        <b>
                            initializeWebSocketConnection
                        </b>
                        <a href="#initializeWebSocketConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initializeWebSocketConnection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="116"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:116</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="817"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:817</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onAddUnitsAttempt"></a>
                    <span class="name">
                        <b>
                            onAddUnitsAttempt
                        </b>
                        <a href="#onAddUnitsAttempt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onAddUnitsAttempt(this)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="858"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:858</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>this</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refreshArmyUnits"></a>
                    <span class="name">
                        <b>
                            refreshArmyUnits
                        </b>
                        <a href="#refreshArmyUnits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refreshArmyUnits(this)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="892"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:892</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>this</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="refreshFleetUnits"></a>
                    <span class="name">
                        <b>
                            refreshFleetUnits
                        </b>
                        <a href="#refreshFleetUnits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>refreshFleetUnits(this)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="902"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:902</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>this</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendChatMessage"></a>
                    <span class="name">
                        <b>
                            sendChatMessage
                        </b>
                        <a href="#sendChatMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendChatMessage(message)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="160"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:160</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>message</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendToServer"></a>
                    <span class="name">
                        <b>
                            sendToServer
                        </b>
                        <a href="#sendToServer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendToServer(op, arg0, arg1, arg2, meta)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="167"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:167</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>op</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>arg0</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>arg1</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>arg2</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>meta</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setLabelAmount"></a>
                    <span class="name">
                        <b>
                            setLabelAmount
                        </b>
                        <a href="#setLabelAmount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setLabelAmount(label, amount)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="912"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:912</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>label</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setPlanetPosition"></a>
                    <span class="name">
                        <b>
                            setPlanetPosition
                        </b>
                        <a href="#setPlanetPosition"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setPlanetPosition(planet, planets, lines, camera)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="821"
                            class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:821</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>planet</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>planets</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lines</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>camera</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_username"></a>
                        <span class="name">
                            <b>
                            _username</b>
                            <a href="#_username"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:50</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="API_URL"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            API_URL</b>
                            <a href="#API_URL"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&quot;http://localhost:8080/game/join&quot;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:96</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ArmyAmount"></a>
                        <span class="name">
                            <b>
                            ArmyAmount</b>
                            <a href="#ArmyAmount"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="carrot"></a>
                        <span class="name">
                            <b>
                            carrot</b>
                            <a href="#carrot"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:46</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="chatClient"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            chatClient</b>
                            <a href="#chatClient"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:31</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="chatUrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            chatUrl</b>
                            <a href="#chatUrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;http://localhost:8080/socket&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:30</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="config"></a>
                        <span class="name">
                            <b>
                            config</b>
                            <a href="#config"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:48</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="gameClient"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            gameClient</b>
                            <a href="#gameClient"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:32</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="GameId"></a>
                        <span class="name">
                            <b>
                            GameId</b>
                            <a href="#GameId"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="gameScene"></a>
                        <span class="name">
                            <b>
                            gameScene</b>
                            <a href="#gameScene"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Phaser.Class</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:49</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="gameUrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            gameUrl</b>
                            <a href="#gameUrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;http://localhost:8080/gamesocket&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:29</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="KeyBoardKeys"></a>
                        <span class="name">
                            <b>
                            KeyBoardKeys</b>
                            <a href="#KeyBoardKeys"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:38</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="Money"></a>
                        <span class="name">
                            <b>
                            Money</b>
                            <a href="#Money"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:40</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="phaserGame"></a>
                        <span class="name">
                            <b>
                            phaserGame</b>
                            <a href="#phaserGame"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Phaser.Game</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="Player"></a>
                        <span class="name">
                            <b>
                            Player</b>
                            <a href="#Player"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:39</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="Point"></a>
                        <span class="name">
                            <b>
                            Point</b>
                            <a href="#Point"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:41</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="preloadStatus"></a>
                        <span class="name">
                            <b>
                            preloadStatus</b>
                            <a href="#preloadStatus"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&quot;Preloading&quot;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:47</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="xCoordinate"></a>
                        <span class="name">
                            <b>
                            xCoordinate</b>
                            <a href="#xCoordinate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;xCoordinate&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:35</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="yCoordinate"></a>
                        <span class="name">
                            <b>
                            yCoordinate</b>
                            <a href="#yCoordinate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;yCoordinate&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/UIcomponents/game-dashboard/game-dashboard.component.ts:36</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, ElementRef, ViewChild } from &#x27;@angular/core&#x27;;
import { PlatformLocation } from &#x27;@angular/common&#x27;
import &#x27;phaser-ce/build/custom/pixi&#x27;;
import &#x27;phaser-ce/build/custom/p2&#x27;;
import Phaser from &#x27;phaser-ce/build/custom/phaser-split&#x27;;
import { FormUtil } from &#x27;../../../assets/js/formUtil&#x27;;
import { AlignGrid } from &#x27;../../../assets/js/alignGrid&#x27;;
import { Router, ActivatedRoute } from &#x27;@angular/router&#x27;;
import * as Stomp from &#x27;stompjs&#x27;;
import * as SockJS from &#x27;sockjs-client&#x27;;
import { Message } from &#x27;src/app/interfaces/Message&#x27;;
import $ from &#x27;jquery&#x27;;
import jQuery from &#x27;jquery&#x27;;
import { Helper } from &#x27;./helper&#x27;;
import { UserSessionService } from &#x27;src/app/services/user-session.service&#x27;;
import { XmlhttpService } from &#x27;src/app/services/xmlhttp.service&#x27;;



@Component({
  selector: &#x27;app-game-dashboard&#x27;,
  templateUrl: &#x27;./game-dashboard.component.html&#x27;,
  styleUrls: [&#x27;./game-dashboard.component.css&#x27;]
})
export class GameDashboardComponent implements OnInit {

  //private chatUrl &#x3D; &#x27;http://cs309-vc-1.misc.iastate.edu:8080/socket&#x27;;
  //private serverUrl &#x3D; &#x27;http://cs309-vc-1.misc.iastate.edu:8080/broadcast&#x27;;
  private gameUrl &#x3D; &#x27;http://localhost:8080/gamesocket&#x27;;
  private chatUrl &#x3D; &#x27;http://localhost:8080/socket&#x27;;
  private chatClient;
  private gameClient;
  //private stompClient;

  @ViewChild(&#x27;xCoordinate&#x27;) xCoordinate: ElementRef;
  @ViewChild(&#x27;yCoordinate&#x27;) yCoordinate: ElementRef;

  KeyBoardKeys;
  Player: any;
  Money: any;
  Point: any;
  ArmyAmount:any &#x3D; 0;
  GameId: any;

  phaserGame: Phaser.Game;
  carrot: any;
  preloadStatus: string &#x3D; &quot;Preloading&quot;;
  config: any;
  gameScene: Phaser.Class;
  _username: string;

  constructor(
    private _router: Router, 
    private _route: ActivatedRoute, 
    location: PlatformLocation,
    private _userSession: UserSessionService,
    private _xmlhttp: XmlhttpService) {
    //this.initializeWebSocketConnection();
    //this.initializeChatSocketConnection();
    
    let initSetup: any &#x3D; this._route.snapshot.params;
    
    this.Player &#x3D; initSetup.playerCount; 
    this.Money &#x3D; initSetup.startingMoney;
    this.Point &#x3D; initSetup.startPoint;
    this.GameId &#x3D; parseInt(initSetup.gameId, 10);
    localStorage.setItem(&#x27;money&#x27;, this.Money);
    localStorage.setItem(&#x27;player&#x27;, this.Player);
    localStorage.setItem(&#x27;point&#x27;, this.Point);
    localStorage.setItem(&#x27;ArmayAmount&#x27;, &quot;0&quot;);
    localStorage.setItem(&#x27;FleetAmount&#x27;, &quot;0&quot;);
    
    let helper &#x3D; new Helper();
    let theScene &#x3D; this.getScene(/*helper*/);
    theScene.setPlanetPosition &#x3D; this.setPlanetPosition;
    theScene.setLabelAmount &#x3D; this.setLabelAmount;
    theScene.onAddUnitsAttempt &#x3D; this.onAddUnitsAttempt;
    theScene.refreshArmyUnits &#x3D; this.refreshArmyUnits;
    theScene.refreshFleetUnits &#x3D; this.refreshFleetUnits;

    this.gameScene &#x3D; new Phaser.Class(theScene);
    this.config &#x3D; {
      type: Phaser.AUTO,
      width: 800,
      height: 800,
      parent: &#x27;phaser-example&#x27;,
      scene: this.gameScene
    };
    this.phaserGame &#x3D; new Phaser.Game(this.config);
    
    this._username &#x3D; _userSession.getUsername();

    this.initializeWebSocketConnection();
  }

  private API_URL: string &#x3D; &quot;http://localhost:8080/game/join&quot;;
  // private API_URL: string &#x3D; &quot;http://cs309-vc-1.misc.iastate.edu:8080/game/join&quot;;


  initializeChatSocketConnection(){
    var self &#x3D; this;
    var socket &#x3D; new SockJS(this.chatUrl);
    this.chatClient &#x3D; Stomp.over(socket);
    this.chatClient.connect({}, function (frame) {
      console.log(&#x27;Connected: &#x27; + frame);
      self.chatClient.subscribe(&#x27;/topic/chat&#x27;, function (message) {
        if (message.body) {
          console.log(message.messages);
          document.getElementById(&#x27;chat&#x27;).append(message.body);
        }
      });
    });
  }

  //this is were incoming websockets live
  initializeWebSocketConnection() {
    var self &#x3D; this;
    var socket &#x3D; new SockJS(this.gameUrl);
    this.gameClient &#x3D; Stomp.over(socket);
    this.gameClient.connect({user:this._username}, function (frame) {
        //alert(&quot;Connected&quot;);
        console.log(&#x27;Connected: &#x27; + frame + &quot; | &quot; + socket);

        var url &#x3D; self.gameClient.ws._transport.url;
        url &#x3D; url.replace(
          &quot;ws://localhost:8080/gamesocket/&quot;, &quot;&quot;);
        url &#x3D; url.replace(&quot;/websocket&quot;, &quot;&quot;);
        url &#x3D; url.replace(/^[0-9]+\//, &quot;&quot;);
        let sessionId &#x3D; url;

        //alert(sessionId);

        self.gameClient.subscribe(&#x27;/topic/response/&#x27;+sessionId, function (message) {
            if(message.body) {
              console.log(message.body);
              let msg &#x3D; message.body;//JSON.parse(message.body);
              console.log(&quot;&lt;&lt;&lt;Receive : &quot;+message.body);
              document.getElementById(&#x27;chat&#x27;).append(msg);
            }
        });

        self.gameClient.subscribe(&#x27;/errors&#x27;, function(message){
          console.log(&quot;ERR: &quot; + message.body);
        });

        new Promise(resolve &#x3D;&gt; setTimeout(resolve, 1000));

        //Tell game to join user after subscription completes
        var xhr &#x3D; self._xmlhttp.createCORSRequest(&#x27;POST&#x27;, self.API_URL
        +&quot;?username&#x3D;&quot;+self._username+&quot;&amp;gameid&#x3D;&quot;+self.GameId+&quot;&amp;socketid&#x3D;&quot;+sessionId, null);

        self.sendToServer(&quot;Test&quot;, 0, 0, 0, &quot;hello, &quot; + self._username);

    });

    setInterval(()&#x3D;&gt;self.sendToServer(&quot;spk&quot;, 0, 0, 0, &quot;hello, &quot; + this._username), 3000);
  }

  //TODO Make more like lobby chat
  sendChatMessage(message) {
    let data &#x3D; new Message(null, null, new Date(), $(&#x27;#input&#x27;).val());
    this.chatClient.send(&quot;/app/chat/send-message&quot;, {}, JSON.stringify(data));
    //this.message &#x3D; &#x27;&#x27;;
    $(&#x27;#input&#x27;).val(&#x27;&#x27;);
  }

  sendToServer(op, arg0, arg1, arg2, meta){
    let message &#x3D; {
      signal : op,
      arg0 : arg0,
      arg1 : arg1,
      arg2 : arg2,
      info : meta,
      gameId : this.GameId
    }
    this.gameClient.send(&quot;/app/signal&quot;, {}, JSON.stringify(message));
    //this.gameClient.send(&quot;/app/game/send-message&quot;, {}, message);
  }


  getScene(): any {
    return {
      Extends: Phaser.Scene,
      initialize: function GameScene(config) {
        Phaser.Scene.call(this, config);
      },
      preload: function () {
        this.load.image(&#x27;sky&#x27;, &#x27;assets/Sky.jpg&#x27;);
        this.load.image(&#x27;planet1&#x27;, &#x27;assets/planet1.png&#x27;);
        this.load.image(&#x27;avatar&#x27;, &#x27;assets/avatar.png&#x27;);
        this.load.image(&#x27;button&#x27;, &#x27;assets/button.png&#x27;);

        this.load.image(&#x27;quad&#x27;, &#x27;assets/quad.png&#x27;);
        this.load.image(&#x27;money_icon&#x27;, &#x27;assets/money_icon.png&#x27;);
        this.load.image(&#x27;points_icon&#x27;, &#x27;assets/points_icon.png&#x27;);
        this.load.image(&#x27;clock_icon&#x27;, &#x27;assets/clock_icon.png&#x27;);
        this.load.image(&#x27;manpower_icon&#x27;, &#x27;assets/manpower_icon.png&#x27;);
        this.load.image(&#x27;alloy_icon&#x27;, &#x27;assets/alloy_icon.png&#x27;);

        this.load.image(&#x27;clock_bar&#x27;, &#x27;assets/clock_bar.png&#x27;);
        this.load.image(&#x27;left_bar&#x27;, &#x27;assets/left_bar.png&#x27;);

        this.load.image(&#x27;rect&#x27;, &#x27;assets/rect.png&#x27;);
        this.load.image(&#x27;pent&#x27;, &#x27;assets/pent.png&#x27;);
        this.load.image(&#x27;rect_button&#x27;, &#x27;assets/rect_button.png&#x27;);
      },
      create: function () {
        let plant &#x3D; localStorage.getItem(&#x27;plant&#x27;);
        let randomPlanetsAmount &#x3D; parseInt(plant);
        let PlanetsPositionRange &#x3D; { min: new Phaser.Math.Vector2(0, 0), max: new Phaser.Math.Vector2(2000, 2000) };
        let PlanetLabel &#x3D; &#x27;Planet1&#x27;;
        let ArmyAmount &#x3D; 0;
        let FleetAmount &#x3D; 0;
        var background &#x3D; this.add.image(0, 0, &#x27;sky&#x27;).setOrigin(0);
        background.setScale(1.25);

        this.dirLine1 &#x3D; this.add.line(0, 0, 0, 0, 0, 0, 0x6666ff);
        this.dirLine2 &#x3D; this.add.line(0, 0, 0, 0, 0, 0, 0x6666ff);
        this.dirLine1.visible &#x3D; false;
        this.dirLine2.visible &#x3D; false;

        this.avatarPlanet &#x3D; this.add.image(0, 0, &#x27;avatar&#x27;);
        this.avatarPlanet.setScale(0.6);
        this.avatarPlanet.visible &#x3D; false;

        this.movablePlanet &#x3D; this.add.image(Phaser.Math.Between(PlanetsPositionRange.min.x, PlanetsPositionRange.max.x),
          Phaser.Math.Between(PlanetsPositionRange.min.y, PlanetsPositionRange.max.y), &#x27;planet1&#x27;);
        this.movablePlanet.visible &#x3D; false;
        this.movablePlanet.setInteractive();
        this.canClearLines &#x3D; false;

        this.movablePlanet.on(&#x27;pointerdown&#x27;, function (pointer) {
          this.scene.movablePlanetArc.visible &#x3D; true;
          this.scene.dirLine1.visible &#x3D; true;
          this.scene.dirLine2.visible &#x3D; true;

          this.scene.canClearLines &#x3D; false;
        });
        this.movablePlanet.on(&#x27;pointerout&#x27;, function (pointer) {
          this.scene.canClearLines &#x3D; true;
        });

        this.input.on(&#x27;pointerdown&#x27;, function (pointer) {
          if (this.canClearLines) {
            this.movablePlanetArc.visible &#x3D; false;
            this.dirLine1.visible &#x3D; false;
            this.dirLine2.visible &#x3D; false;
          }
        }, this);

        this.movablePlanetArc &#x3D; this.add.arc(0, 0, 60, 0, 360, false);
        this.movablePlanetArc.setStrokeStyle(2, 0x6666ff);
        this.movablePlanetArc.visible &#x3D; false;

        this.movablePlanets &#x3D; [];
        this.movablePlanets.push(this.movablePlanet);

        this.dirLines &#x3D; [this.dirLine1, this.dirLine2];

        this.movablePlanetLabel &#x3D; this.add.text(0, 0, PlanetLabel, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#ffffff&#x27; });
        this.movablePlanetLabel.setOrigin(0.5);

        this.planets &#x3D; [];

        for (var i &#x3D; 0; i &lt; randomPlanetsAmount; i++) {
          var planet &#x3D; this.add.image(Phaser.Math.Between(PlanetsPositionRange.min.x, PlanetsPositionRange.max.x),
            Phaser.Math.Between(PlanetsPositionRange.min.y, PlanetsPositionRange.max.y), &#x27;planet1&#x27;);

          planet.x +&#x3D; planet.width;
          planet.y +&#x3D; planet.height;

          planet.setInteractive();
          planet.on(&#x27;pointerdown&#x27;, function (pointer) {
            if (!this.addedToList) {
              this.scene.moveToPlanetButtonContainer.visible &#x3D; true;
              this.scene.selectedPlanet &#x3D; this;
            }
          });

          planet.avatar &#x3D; this.add.image(planet.x, planet.y, &#x27;avatar&#x27;);
          planet.avatar.setScale(0.6);
          planet.avatar.visible &#x3D; false;
          planet.addedToList &#x3D; false;

          this.planets.push(planet);
        }

        this.KeyBoardKeys &#x3D; this.input.keyboard.createCursorKeys();

        var controlConfig &#x3D;
          {
            camera: this.cameras.main,
            left: this.KeyBoardKeys.left,
            right: this.KeyBoardKeys.right,
            up: this.KeyBoardKeys.up,
            down: this.KeyBoardKeys.down,
            acceleration: 0.02,
            drag: 0.0005,
            maxSpeed: 1.0
          };

        this.KeyBoardKeys &#x3D; new Phaser.Cameras.Controls.SmoothedKeyControl(controlConfig);
        var CameraMoving &#x3D; this.cameras.main;
        CameraMoving.setBounds(0, 0, 2000, 2000).setZoom(1);
        this.camera &#x3D; CameraMoving;

        function makeLabelWithIcon(title, iconName, xPos, yPos, originX, originY) {
          var label &#x3D; this.add.text(xPos, yPos, title, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#ffffff&#x27; });;
          label.setOrigin(originX, originY);
          label.setScrollFactor(0);

          var icon &#x3D; this.add.image(label.x - this.game.config.width * 0.060, label.y, iconName);
          icon.setScrollFactor(0);
          icon.setScale(0.4);
          icon.setOrigin(originX, originY);

          return { label: label, icon: icon };
        }

        this.moneyLabel &#x3D; makeLabelWithIcon.call(this, &#x27;Money&#x27;, &#x27;money_icon&#x27;, this.game.config.width * 0.085, this.game.config.height * 0.03, 0, 0.5);
        this.moneyLabel.amount &#x3D; 0;
        this.setLabelAmount(this.moneyLabel, parseInt(localStorage.getItem(&#x27;money&#x27;)));

        this.manPower &#x3D; makeLabelWithIcon.call(this, &#x27;&#x27;, &#x27;manpower_icon&#x27;, (this.game.config.width * 0.085) + (this.moneyLabel.label.width + this.moneyLabel.icon.width)
          , this.game.config.height * 0.03, 0, 0.5);
        this.manPower.amount &#x3D; 0;
        this.setLabelAmount(this.manPower, 0);

        this.alloys &#x3D; makeLabelWithIcon.call(this, &#x27;&#x27;, &#x27;alloy_icon&#x27;, (this.game.config.width * 0.085) + (this.moneyLabel.label.width + this.moneyLabel.icon.width) * 2
          , this.game.config.height * 0.03, 0, 0.5);
        this.alloys.amount &#x3D; 0;
        this.setLabelAmount(this.alloys, 0);

        this.leftBar &#x3D; this.add.image(this.game.config.width * -0.23, this.moneyLabel.label.y - this.moneyLabel.label.y * 0.55, &#x27;left_bar&#x27;);
        this.leftBar.setScale(0.8);
        this.leftBar.setOrigin(0.15, 0.5);
        this.leftBar.setScrollFactor(0);

        this.clockLabel &#x3D; this.add.text(this.game.config.width * 0.94, 0, &quot;0&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#ffffff&#x27; });
        this.clockLabel.setOrigin(1, 0.5);
        this.clockLabel.setScrollFactor(0);
        this.clockLabel.y +&#x3D; this.clockLabel.height * 1.1;

        this.clockIcon &#x3D; this.add.image(this.game.config.width * 0.98, this.clockLabel.y, &#x27;clock_icon&#x27;);
        this.clockIcon.setScale(0.25);
        this.clockIcon.setOrigin(1, 0.5);
        this.clockIcon.setScrollFactor(0);

        this.clockBar &#x3D; this.add.image(this.game.config.width * 1.15, this.clockLabel.y - this.clockLabel.y * 0.5, &#x27;clock_bar&#x27;);
        this.clockBar.setScale(0.8);
        this.clockBar.setOrigin(0.5, 0.5);
        this.clockBar.setScrollFactor(0);

        function makePanel(posX, posY, panelTitle, contentHeight, panelOriginX &#x3D; 1, panelTitleOriginX &#x3D; 0.5, onPointerDown &#x3D; null) {
          var panelContainer &#x3D; this.add.container(0, 0);

          var panel &#x3D; this.add.image(posX, posY, &#x27;quad&#x27;);
          panel.setScale(7, contentHeight);
          panel.setOrigin(panelOriginX, 1);
          panel.setScrollFactor(0);
          panel.setTint(0xbfbfbf);

          var panelLabelBackground &#x3D; this.add.image(posX, posY - panel.height * panel.scaleY, &#x27;quad&#x27;);
          panelLabelBackground.setScale(7, 1.2);
          panelLabelBackground.setOrigin(panelOriginX, 1);
          panelLabelBackground.setScrollFactor(0);
          panelLabelBackground.setTint(0x000000);
          panelLabelBackground.setInteractive();
          panelLabelBackground.panel &#x3D; panelContainer;
          panelLabelBackground.on(&#x27;pointerdown&#x27;, function (pointer) {
            this.setTint(0x161616);
            var tween &#x3D; this.scene.tweens.add
              ({
                targets: this.panel,
                y: this.panel.hide ? 0 : this.panel.hidePositionY,
                ease: &#x27;Power1&#x27;,
                duration: 400,
                repeat: 0,
              });

            this.panel.hide &#x3D; !this.panel.hide;

            if (onPointerDown !&#x3D; null) {
              onPointerDown.call(this, pointer);
            }
          });
          panelLabelBackground.on(&#x27;pointerup&#x27;, function (pointer) {
            this.setTint(0x000000);
          });
          panelLabelBackground.on(&#x27;pointerout&#x27;, function (pointer) {
            this.setTint(0x000000);
          });

          var panelLabel &#x3D; this.add.text(panelLabelBackground.x - panelLabelBackground.width * panelLabelBackground.scaleX * 0.5,
            panelLabelBackground.y,
            panelTitle, { fontFamily: &#x27;Arial&#x27;, fontSize: 24, color: &#x27;#ffffff&#x27; });

          panelLabel.setOrigin(panelTitleOriginX, 1.1);
          panelLabel.setScrollFactor(0);

          panelContainer.add(panel);
          panelContainer.add(panelLabelBackground);
          panelContainer.add(panelLabel);

          panelContainer.panel &#x3D; panel;
          panelContainer.panelLabelBackground &#x3D; panelLabelBackground;
          panelContainer.panelLabel &#x3D; panelLabel;

          panelContainer.y +&#x3D; panel.height * panel.scaleY;
          panelContainer.hide &#x3D; true;
          panelContainer.hidePositionY &#x3D; panelContainer.y;

          panelContainer.nextItemOffsetY &#x3D; 0;
          panelContainer.contentHeight &#x3D; contentHeight;

          return panelContainer;
        }

        this.addItemToPanel &#x3D; function (panelContainer, title, originX, originY, onPointerDown) {
          var label &#x3D; this.add.text(panelContainer.panel.x - panelContainer.panel.width * panelContainer.panel.scaleX,
            panelContainer.panel.y - panelContainer.panel.height * panelContainer.panel.scaleY * 0.98,
            title, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#000000&#x27; });

          label.x +&#x3D; label.width * 0.1
          label.y +&#x3D; label.height * 1.7;
          label.y +&#x3D; panelContainer.nextItemOffsetY;

          label.setOrigin(originX, originY);
          label.setScrollFactor(0);

          label.setInteractive();
          label.on(&#x27;pointerdown&#x27;, onPointerDown);
          label.on(&#x27;pointerup&#x27;, function (pointer) { this.setColor(&quot;#000000&quot;); });
          label.on(&#x27;pointerout&#x27;, function (pointer) { this.setColor(&quot;#000000&quot;); });

          panelContainer.add(label);

          panelContainer.nextItemOffsetY +&#x3D; label.height;

          return label;
        }

        function addButtonItemToPanel(panelContainer, title, originX, originY, onPointerDown) {
          var label &#x3D; this.add.text(panelContainer.panel.x,
            panelContainer.panel.y - panelContainer.panel.height * panelContainer.panel.scaleY * 0.98,
            title, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#000000&#x27; });

          label.x +&#x3D; label.width * 0.1;
          label.y +&#x3D; label.height * 1.7;
          label.y +&#x3D; panelContainer.nextItemOffsetY;

          label.setOrigin(originX, originY);
          label.setScrollFactor(0);

          label.setInteractive();

          var rect &#x3D; this.add.image(panelContainer.panel.x + panelContainer.panel.width * panelContainer.panel.scaleX, label.y, &#x27;rect_button&#x27;);
          rect.setOrigin(1.5, 1);
          rect.setScrollFactor(0);
          rect.setInteractive();
          rect.on(&#x27;pointerdown&#x27;, onPointerDown);
          rect.on(&#x27;pointerup&#x27;, function (pointer) { this.setTint(0xffffff); });
          rect.on(&#x27;pointerout&#x27;, function (pointer) { this.setTint(0xffffff); });

          rect.label &#x3D; label;

          var rectLabel &#x3D; this.add.text(rect.x, rect.y, &#x27;+&#x27;, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#000000&#x27; });
          rectLabel.setOrigin(0.5, 1);
          rectLabel.setScrollFactor(0);
          rectLabel.x -&#x3D; rect.width;
          rectLabel.y -&#x3D; rect.height * 0.1;

          panelContainer.add(label);
          panelContainer.add(rect);
          panelContainer.add(rectLabel);

          panelContainer.nextItemOffsetY +&#x3D; label.height;

          return label;
        }

        this.createPlanetsLabel &#x3D; function () {
          if (this.planetsPanel !&#x3D; undefined) {
            this.planetsPanel.destroy();
          }

          this.planetsPanel &#x3D; makePanel.call(this, this.game.config.width, this.game.config.height, &#x27;Planets&#x27;, this.movablePlanets.length * 1.1);
          for (var i &#x3D; 0; i &lt; this.movablePlanets.length; i++) {
            var movablePlanet &#x3D; this.movablePlanets[i];

            this.planetLabel &#x3D; this.addItemToPanel.call(this, this.planetsPanel, &#x27;Planet &#x27; + (i + 1), 0, 1.4, function (pointer) {
              this.setColor(&quot;#4a4a4a&quot;);
              if (this.planet.created !&#x3D; undefined) {
                this.scene.setPlanetPosition(this.planet, this.scene.planets, this.scene.dirLines, this.scene.camera);
              }
            });

            this.planetLabel.planet &#x3D; movablePlanet;
          }
        }
        this.createPlanetsLabel();

        this.activeUnit &#x3D; &#x27;Army&#x27;;
        this.unitsPanel &#x3D; makePanel.call(this, 0, this.game.config.height, &#x27;Army  |  Fleet&#x27;, 1.8, 0, -1, function (pointer) {
          if (!this.panel.hide) {
            this.scene.resForArmyContainer.visible &#x3D; false;
            this.scene.resForFleetContainer.visible &#x3D; false;
            this.scene.popupErrorMsg.visible &#x3D; false;

            var middle &#x3D; this.panel.panel.x + this.panel.panel.width * this.panel.panel.scaleX * 0.45;
            if (pointer.x &lt; middle) {
              this.scene.popupDescription.text &#x3D; &#x27;Army units are used to invade other planets&#x27;;
              this.scene.refreshArmyUnits(this.scene);
            }
            else {
              this.scene.popupDescription.text &#x3D; &#x27;Fleet units are used to reach other planets&#x27;;
              this.scene.refreshFleetUnits(this.scene);
            }

            this.scene.popupTitle.text &#x3D; this.scene.activeUnit;
            this.scene.popupDescription.text +&#x3D; &quot;\n&quot; + &quot;To build an &quot; + this.scene.activeUnit + &quot; units you need:&quot;;
          }
        });

        this.armyUnitLabel &#x3D; addButtonItemToPanel.call(this, this.unitsPanel, &#x27;Army Unit: 0&#x27;, 0, 1.2, function (pointer) {
          this.setTint(0x4a4a4a);
          this.scene.popupWindow.visible &#x3D; true;
        });

        this.planetArmyUnitLabel &#x3D; this.add.text(300, 300, &#x27;0&#x27;, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#ffffff&#x27; });
        this.planetArmyUnitLabel.visible &#x3D; true;
        this.planetArmyUnitLabel.setOrigin(0.5);
        this.planetArmyUnitBorder &#x3D; this.add.image(this.planetArmyUnitLabel.x, this.planetArmyUnitLabel.y, &#x27;rect&#x27;);
        this.planetArmyUnitBorder.setOrigin(0.5);

        this.planetFleetUnitLabel &#x3D; this.add.text(300, 300, &#x27;0&#x27;, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#ffffff&#x27; });
        this.planetFleetUnitLabel.visible &#x3D; true;
        this.planetFleetUnitLabel.setOrigin(0.5);
        this.planetFleetUnitBorder &#x3D; this.add.image(this.planetFleetUnitLabel.x, this.planetFleetUnitLabel.y, &#x27;pent&#x27;);
        this.planetFleetUnitBorder.setOrigin(0.5);

        this.startButton &#x3D; this.add.image(0, 0, &#x27;button&#x27;);
        this.startButton.setScale(0.5);
        this.startButton.setInteractive();
        this.startButton.setOrigin(0);
        this.startButton.setScrollFactor(0);

        this.startButton.on(&#x27;pointerdown&#x27;, function (pointer) {
          this.setTint(0xe0e0e0);

          var x &#x3D; jQuery(&quot;#xCoordinate&quot;).val();
          var y &#x3D; jQuery(&quot;#yCoordinate&quot;).val();

          if (x !&#x3D; &quot;&quot; &amp;&amp; y !&#x3D; &quot;&quot;) {
            x &#x3D; parseInt(x);
            y &#x3D; parseInt(y);

            var planet &#x3D; this.scene.movablePlanet;

            if (x &lt;&#x3D; planet.width * 0.5)
              x &#x3D; planet.width * 0.5;
            else if (x &gt; PlanetsPositionRange.max.x - planet.width * 0.5)
              x &#x3D; PlanetsPositionRange.max.x - planet.width * 0.5;

            if (y &lt;&#x3D; planet.height * 0.5)
              y &#x3D; planet.height * 0.5;
            else if (y &gt; PlanetsPositionRange.max.y - planet.height * 0.5)
              y &#x3D; PlanetsPositionRange.max.y - planet.height * 0.5;

            planet.x &#x3D; x;
            planet.y &#x3D; y;

            this.scene.setPlanetPosition(planet, this.scene.planets, this.scene.dirLines, this.scene.camera, x, y);
          }
        });

        this.startButton.on(&#x27;pointerout&#x27;, function (pointer) { this.clearTint(); });
        this.startButton.on(&#x27;pointerup&#x27;, function (pointer) {
          this.clearTint();

          this.visible &#x3D; false;
          var coordinatesInput &#x3D; document.getElementById(&quot;coordinates&quot;);
          coordinatesInput.style.visibility &#x3D; &quot;hidden&quot;;

          this.scene.startButtonText.visible &#x3D; false;
        });

        this.startButtonText &#x3D; this.add.text(0, 0, &#x27;Go!&#x27;, { fontFamily: &#x27;Arial&#x27;, fontSize: 32, color: &#x27;#000000&#x27; });
        this.startButtonText.setOrigin(0.5);
        this.startButtonText.x &#x3D; Math.floor(this.startButton.x + this.startButton.width / 2) * 0.5;
        this.startButtonText.y &#x3D; Math.floor(this.startButton.y + this.startButton.height / 2) * 0.5;
        this.startButtonText.setScrollFactor(0);

        this.startButtonContainer &#x3D; this.add.container(this.game.config.width * 0.005, this.game.config.height * 0.225);
        this.startButtonContainer.add(this.startButton);
        this.startButtonContainer.add(this.startButtonText);

        this.moveToPlanetButton &#x3D; this.add.image(0, 0, &#x27;button&#x27;);
        this.moveToPlanetButton.setScale(0.5);
        this.moveToPlanetButton.setInteractive();
        this.moveToPlanetButton.setOrigin(0);
        this.moveToPlanetButton.setScrollFactor(0);
        this.moveToPlanetButton.on(&#x27;pointerdown&#x27;, function (pointer) {
          // TODO
          this.setTint(0xe0e0e0);

          if (this.scene.selectedPlanet !&#x3D; undefined) {
            if (!this.scene.selectedPlanet.addedToList) {
              this.scene.selectedPlanet.avatar.visible &#x3D; true;

              this.scene.selectedPlanet.created &#x3D; true;
              this.scene.movablePlanets.push(this.scene.selectedPlanet);
              this.scene.createPlanetsLabel();

              this.scene.selectedPlanet.addedToList &#x3D; true;
            }
          }

          this.scene.moveToPlanetButtonContainer.visible &#x3D; false;
        });
        this.moveToPlanetButton.on(&#x27;pointerout&#x27;, function (pointer) { this.clearTint(); });
        this.moveToPlanetButton.on(&#x27;pointerup&#x27;, function (pointer) { this.clearTint(); });

        this.moveToPlanetButtonText &#x3D; this.add.text(0, 0, &#x27;Move&#x27;, { fontFamily: &#x27;Arial&#x27;, fontSize: 32, color: &#x27;#000000&#x27; });
        this.moveToPlanetButtonText.setOrigin(0.5);
        this.moveToPlanetButtonText.x &#x3D; Math.floor(this.moveToPlanetButton.x + this.moveToPlanetButton.width / 2) * 0.5;
        this.moveToPlanetButtonText.y &#x3D; Math.floor(this.moveToPlanetButton.y + this.moveToPlanetButton.height / 2) * 0.5;
        this.moveToPlanetButtonText.setScrollFactor(0);

        this.moveToPlanetButtonContainer &#x3D; this.add.container(this.game.config.width * 0.005, this.game.config.height * 0.3);
        this.moveToPlanetButtonContainer.add(this.moveToPlanetButton);
        this.moveToPlanetButtonContainer.add(this.moveToPlanetButtonText);
        this.moveToPlanetButtonContainer.visible &#x3D; false;

        this.formUtil &#x3D; new FormUtil
          ({
            scene: this,
            rows: 20,
            cols: 20,
            alignGrid: AlignGrid
          });
        this.formUtil.placeElementAt(40, &#x27;coordinates&#x27;, false);


        this.popupWindow &#x3D; this.add.container(this.game.config.width * 0.5, this.game.config.height * 0.5);
        this.popupBackground &#x3D; this.add.image(0, 0, &#x27;quad&#x27;);
        this.popupBackground.setOrigin(0.5);
        this.popupBackground.setScale(this.game.config.width * 0.025, this.game.config.height * 0.015);
        this.popupBackground.setTint(0x4472c4);

        this.popupClose &#x3D; this.add.image(0, 0, &#x27;quad&#x27;);
        this.popupClose.setInteractive();
        this.popupClose.setScrollFactor(0);
        this.popupClose.setScale(1.2);
        this.popupClose.x +&#x3D; (this.popupBackground.width * this.popupBackground.scaleX * 0.5) - (this.popupClose.width * this.popupClose.scaleX * 0.6);
        this.popupClose.y -&#x3D; (this.popupBackground.height * this.popupBackground.scaleY * 0.5) - (this.popupClose.height * this.popupClose.scaleY * 0.6);
        this.popupClose.on(&#x27;pointerdown&#x27;, function (pointer) {
          this.scene.popupWindow.visible &#x3D; false;
        });
        this.popupCloseText &#x3D; this.add.text(this.popupClose.x, this.popupClose.y, &quot;X&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#000000&#x27; });
        this.popupCloseText.setOrigin(0.5);

        this.popupTitleBar &#x3D; this.add.image(0, this.popupClose.y, &#x27;quad&#x27;);
        this.popupTitleBar.setOrigin(0.5);
        this.popupTitleBar.setScale(5.5, 1.3);

        this.popupTitle &#x3D; this.add.text(0, this.popupClose.y, &quot;Army&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 22, color: &#x27;#000000&#x27; });
        this.popupTitle.setOrigin(0.5);
        this.popupTitle.y +&#x3D; this.popupTitle.height * 0.2;
        this.popupTitleBar.y &#x3D; this.popupTitle.y;

        this.popupDescription &#x3D; this.add.text(0, -(this.popupBackground.height * this.popupBackground.scaleY * 0.12), &quot;&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 22, color: &#x27;#ffffff&#x27; });
        this.popupDescription.setOrigin(0.5);

        this.popupErrorMsg &#x3D; this.add.text(0, 0, &quot;Not enough resources&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 22, color: &#x27;#ffffff&#x27; });
        this.popupErrorMsg.setOrigin(0.5);
        this.popupErrorMsg.setTint(0xaf1d1d);
        this.popupErrorMsg.y +&#x3D; (this.popupBackground.height * this.popupBackground.scaleY * 0.4);
        this.popupErrorMsg.visible &#x3D; false;

        this.popupAddButton &#x3D; this.add.image(0, 0, &#x27;quad&#x27;);
        this.popupAddButton.setInteractive();
        this.popupAddButton.setScrollFactor(0);
        this.popupAddButton.setScale(1.2);
        this.popupAddButton.x +&#x3D; (this.popupBackground.width * this.popupBackground.scaleX * 0.5) - (this.popupAddButton.width * this.popupAddButton.scaleX * 0.6);
        this.popupAddButton.y +&#x3D; (this.popupBackground.height * this.popupBackground.scaleY * 0.5) - (this.popupAddButton.height * this.popupAddButton.scaleY * 0.6);
        this.popupAddButton.on(&#x27;pointerdown&#x27;, function (pointer) {
          this.scene.onAddUnitsAttempt(this.scene);
        });
        this.popupAddButtonText &#x3D; this.add.text(this.popupAddButton.x, this.popupAddButton.y, &quot;+&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#000000&#x27; });
        this.popupAddButtonText.setOrigin(0.5);

        this.unitsIcon &#x3D; this.add.image(0, 0, &#x27;rect&#x27;);
        this.unitsIcon.setOrigin(0.5);
        this.unitsIcon.setScale(1.2);
        this.unitsIcon.x +&#x3D; (this.popupBackground.width * this.popupBackground.scaleX * 0.5) - (this.unitsIcon.width * this.unitsIcon.scaleX * 1.5);
        this.unitsIcon.y +&#x3D; (this.popupBackground.height * this.popupBackground.scaleY * 0.5) - (this.unitsIcon.height * this.unitsIcon.scaleY * 0.6);
        this.unitsIconText &#x3D; this.add.text(this.unitsIcon.x, this.unitsIcon.y, &quot;0&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 18, color: &#x27;#ffffff&#x27; });
        this.unitsIconText.setOrigin(0.5);

        // Resources for army container
        this.resForArmyContainer &#x3D; this.add.container(0, (this.popupBackground.height * this.popupBackground.scaleY * 0.1));
        this.moneyIcon &#x3D; this.add.image(-(this.popupBackground.width * this.popupBackground.scaleX * 0.2), 0, &#x27;money_icon&#x27;);
        this.moneyIcon.setOrigin(0.5);
        this.moneyIcon.setScale(0.6);
        this.moneyIconText &#x3D; this.add.text(this.moneyIcon.x, this.moneyIcon.y, &quot;500&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#ffffff&#x27; });
        this.moneyIconText.setOrigin(0.5);
        this.moneyIconText.y +&#x3D; this.moneyIconText.height * 2;

        this.manpowerIcon &#x3D; this.add.image((this.popupBackground.width * this.popupBackground.scaleX * 0.2), 0, &#x27;manpower_icon&#x27;);
        this.manpowerIcon.setOrigin(0.5);
        this.manpowerIcon.setScale(0.6);
        this.manpowerIconText &#x3D; this.add.text(this.manpowerIcon.x, this.manpowerIcon.y, &quot;10&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#ffffff&#x27; });
        this.manpowerIconText.setOrigin(0.5);
        this.manpowerIconText.y +&#x3D; this.manpowerIconText.height * 2;

        this.resForArmyContainer.add(this.moneyIcon);
        this.resForArmyContainer.add(this.moneyIconText);
        this.resForArmyContainer.add(this.manpowerIcon);
        this.resForArmyContainer.add(this.manpowerIconText);
        this.resForArmyContainer.visible &#x3D; false;

        // Resources for fleet container
        this.resForFleetContainer &#x3D; this.add.container(0, (this.popupBackground.height * this.popupBackground.scaleY * 0.1));
        this.moneyIcon &#x3D; this.add.image(-(this.popupBackground.width * this.popupBackground.scaleX * 0.25), 0, &#x27;money_icon&#x27;);
        this.moneyIcon.setOrigin(0.5);
        this.moneyIcon.setScale(0.6);
        this.moneyIconText &#x3D; this.add.text(this.moneyIcon.x, this.moneyIcon.y, &quot;500&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#ffffff&#x27; });
        this.moneyIconText.setOrigin(0.5);
        this.moneyIconText.y +&#x3D; this.moneyIconText.height * 2;

        this.alloyIcon &#x3D; this.add.image(0, 0, &#x27;alloy_icon&#x27;);
        this.alloyIcon.setOrigin(0.5);
        this.alloyIcon.setScale(0.6);
        this.alloyIconText &#x3D; this.add.text(this.alloyIcon.x, this.alloyIcon.y, &quot;5&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#ffffff&#x27; });
        this.alloyIconText.setOrigin(0.5);
        this.alloyIconText.y +&#x3D; this.alloyIconText.height * 2;

        this.manpowerIcon &#x3D; this.add.image((this.popupBackground.width * this.popupBackground.scaleX * 0.25), 0, &#x27;manpower_icon&#x27;);
        this.manpowerIcon.setOrigin(0.5);
        this.manpowerIcon.setScale(0.6);
        this.manpowerIconText &#x3D; this.add.text(this.manpowerIcon.x, this.manpowerIcon.y, &quot;10&quot;, { fontFamily: &#x27;Arial&#x27;, fontSize: 20, color: &#x27;#ffffff&#x27; });
        this.manpowerIconText.setOrigin(0.5);
        this.manpowerIconText.y +&#x3D; this.manpowerIconText.height * 2;

        this.resForFleetContainer.add(this.moneyIcon);
        this.resForFleetContainer.add(this.moneyIconText);
        this.resForFleetContainer.add(this.alloyIcon);
        this.resForFleetContainer.add(this.alloyIconText);
        this.resForFleetContainer.add(this.manpowerIcon);
        this.resForFleetContainer.add(this.manpowerIconText);
        this.resForFleetContainer.visible &#x3D; false;

        // Finalize popup window
        this.popupWindow.add(this.popupBackground);
        this.popupWindow.add(this.popupClose);
        this.popupWindow.add(this.popupCloseText);
        this.popupWindow.add(this.popupTitleBar);
        this.popupWindow.add(this.popupTitle);
        this.popupWindow.add(this.popupDescription);
        this.popupWindow.add(this.popupErrorMsg);
        this.popupWindow.add(this.popupAddButton);
        this.popupWindow.add(this.popupAddButtonText);
        this.popupWindow.add(this.unitsIcon);
        this.popupWindow.add(this.unitsIconText);
        this.popupWindow.add(this.resForArmyContainer);
        this.popupWindow.add(this.resForFleetContainer);
        this.popupWindow.visible &#x3D; false;

        this.popupWindow.setScrollFactor(0);
      },

      update: function (time, delta) {
        let ClockNumber &#x3D; 0;

        this.KeyBoardKeys.update(delta);

        this.avatarPlanet.visible &#x3D; this.movablePlanet.visible;

        this.avatarPlanet.x &#x3D; this.movablePlanet.x;
        this.avatarPlanet.y &#x3D; this.movablePlanet.y;

        this.movablePlanetArc.x &#x3D; this.movablePlanet.x;
        this.movablePlanetArc.y &#x3D; this.movablePlanet.y;

        this.movablePlanetLabel.visible &#x3D; this.movablePlanet.visible;
        this.movablePlanetLabel.x &#x3D; this.movablePlanet.x;
        this.movablePlanetLabel.y &#x3D; this.movablePlanet.y + this.movablePlanetLabel.height * 2.8;

        this.planetArmyUnitLabel.visible &#x3D; this.movablePlanet.visible;
        this.planetArmyUnitBorder.visible &#x3D; this.movablePlanet.visible;

        this.planetFleetUnitLabel.visible &#x3D; this.movablePlanet.visible;
        this.planetFleetUnitBorder.visible &#x3D; this.movablePlanet.visible;

        if (this.planetArmyUnitLabel.visible) {
          var pos &#x3D; { x: this.movablePlanet.x, y: this.movablePlanet.y };
          pos.y -&#x3D; this.movablePlanet.height * 0.8;

          this.planetArmyUnitLabel.setPosition(pos.x, pos.y);
          this.planetArmyUnitBorder.setPosition(pos.x, pos.y);

          pos.y +&#x3D; (this.movablePlanet.height * 0.8) * 2.5;

          this.planetFleetUnitLabel.setPosition(pos.x, pos.y);
          this.planetFleetUnitBorder.setPosition(pos.x, pos.y);
          let armyAmount &#x3D; localStorage.getItem(&#x27;ArmayAmount&#x27;);
          let fleetAmount &#x3D; localStorage.getItem(&#x27;FleetAmount&#x27;);
          this.planetArmyUnitLabel.text &#x3D; &quot;&quot; + armyAmount;
          this.planetFleetUnitLabel.text &#x3D; &quot;&quot; + fleetAmount;
        }
        this.clockLabel.text &#x3D; &quot;&quot; + ClockNumber;
      }
    }
  }

  ngOnInit() {
    localStorage.setItem(&quot;isGameLoad&quot;, &quot;true&quot;);
  }

  setPlanetPosition(planet, planets, lines, camera): void {
    camera.centerOn(planet.x, planet.y);

    var planetPos &#x3D; new Phaser.Math.Vector2(planet.x, planet.y);

    function getNearestPlanet(ignoredPlanet &#x3D; null) {
      var lastLength1 &#x3D; 100000;
      var closestOne &#x3D; null;

      for (var i &#x3D; 0; i &lt; planets.length; i++) {
        var otherPlanet &#x3D; planets[i];
        if (otherPlanet &#x3D;&#x3D; ignoredPlanet) continue;

        var otherPlanetPos &#x3D; new Phaser.Math.Vector2(otherPlanet.x, otherPlanet.y);

        var r &#x3D; otherPlanetPos.subtract(planetPos);
        var vecLength &#x3D; r.length();

        if (vecLength &lt; lastLength1) {
          closestOne &#x3D; otherPlanet;
          lastLength1 &#x3D; vecLength;
        }
      }

      return closestOne;
    }

    var closestPlanet1 &#x3D; getNearestPlanet();
    var closestPlanet2 &#x3D; getNearestPlanet(closestPlanet1);

    lines[0].setTo(planet.x, planet.y, closestPlanet1.x, closestPlanet1.y);
    lines[1].setTo(planet.x, planet.y, closestPlanet2.x, closestPlanet2.y);

    planet.visible &#x3D; true;
    planet.created &#x3D; true;
  }

  onAddUnitsAttempt(this): void {
    var hasResources &#x3D; false;

    if (this.activeUnit &#x3D;&#x3D; &#x27;Army&#x27;) {
      hasResources &#x3D; this.moneyLabel.amount &gt;&#x3D; 500 &amp;&amp; this.manPower.amount &gt;&#x3D; 10;
    }
    else if (this.activeUnit &#x3D;&#x3D; &#x27;Fleet&#x27;) {
      hasResources &#x3D; this.moneyLabel.amount &gt;&#x3D; 500 &amp;&amp; this.manPower.amount &gt;&#x3D; 10 &amp;&amp; this.alloys.amount &gt;&#x3D; 5;
    }

    if (!hasResources) { this.popupErrorMsg.visible &#x3D; true; }
    else {
      if (this.activeUnit &#x3D;&#x3D; &#x27;Army&#x27;) {
        this.setLabelAmount(this.moneyLabel, this.moneyLabel.amount - 500);
        this.setLabelAmount(this.manPower, this.manPower.amount - 10);
        let armyAmount &#x3D; localStorage.getItem(&#x27;ArmayAmount&#x27;);
        let sum &#x3D; parseInt(armyAmount);
        sum++;
        localStorage.setItem(&#x27;ArmayAmount&#x27;, sum.toString());
        this.refreshArmyUnits.call(this);
      }
      else if (this.activeUnit &#x3D;&#x3D; &#x27;Fleet&#x27;) {
        this.setLabelAmount(this.moneyLabel, this.moneyLabel.amount - 500);
        this.setLabelAmount(this.manPower, this.manPower.amount - 10);
        this.setLabelAmount(this.alloys, this.alloys.amount - 5);
        let fleetAmount &#x3D; localStorage.getItem(&#x27;FleetAmount&#x27;);
        let sum &#x3D; parseInt(fleetAmount);
        sum++;
        localStorage.setItem(&#x27;FleetAmount&#x27;, sum.toString());
        this.refreshFleetUnits.call(this);
      }
    }
  }

  refreshArmyUnits(this): void {
    this.activeUnit &#x3D; &#x27;Army&#x27;;
    let armyAmount &#x3D; localStorage.getItem(&#x27;ArmayAmount&#x27;);
    this.armyUnitLabel.text &#x3D; this.activeUnit + &#x27; Unit: &#x27; + armyAmount;

    this.unitsIcon.setTexture(&#x27;rect&#x27;);
    this.unitsIconText.text &#x3D; armyAmount;
    this.resForArmyContainer.visible &#x3D; true;
  }

  refreshFleetUnits(this): void {
    this.activeUnit &#x3D; &#x27;Fleet&#x27;;
    let fleetAmount &#x3D; localStorage.getItem(&#x27;FleetAmount&#x27;);
    this.armyUnitLabel.text &#x3D; this.activeUnit + &#x27; Unit: &#x27; + fleetAmount;

    this.unitsIcon.setTexture(&#x27;pent&#x27;);
    this.unitsIconText.text &#x3D; fleetAmount;
    this.resForFleetContainer.visible &#x3D; true;
  }

  setLabelAmount(label, amount) {
    label.amount &#x3D; amount;
    label.label.text &#x3D; &quot;&quot; + label.amount;
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div id&#x3D;&#x27;phaser-game&#x27;&gt;&lt;/div&gt;
&lt;form class&#x3D;&quot;game-form&quot; id&#x3D;&quot;coordinates&quot; &gt;
  &lt;div class&#x3D;&quot;form-group mar-b-0&quot;&gt;
    &lt;label for&#x3D;&quot;xCoordinate&quot; class&#x3D;&quot;mar-b-0&quot;&gt;X Coordinate&lt;/label&gt;
    &lt;input class&#x3D;&quot;form-control&quot; type&#x3D;&quot;text&quot; #xCoordinate id&#x3D;&quot;xCoordinate&quot; style&#x3D;&quot;width: 110px;height: 30px;&quot;&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;form-group mar-b-0&quot;&gt;
    &lt;label for&#x3D;&quot;yCoordinate&quot; class&#x3D;&quot;mar-b-0&quot;&gt;Y Coordinate&lt;/label&gt;
    &lt;input class&#x3D;&quot;form-control &quot; type&#x3D;&quot;text&quot; #yCoordinate id&#x3D;&quot;yCoordinate&quot; style&#x3D;&quot;width: 110px;height: 30px;&quot;&gt;
  &lt;/div&gt;
&lt;/form&gt;
&lt;div class&#x3D;&quot;send-button&quot; style&#x3D;&#x27;position:absolute; top:300px;&#x27;&gt;
  
  &lt;textarea id&#x3D;&#x27;chat&#x27;&gt;&lt;/textarea&gt;
  &lt;div class&#x3D;&quot;send&quot; (click)&#x3D;&quot;sendChatMessage(input.value)&quot;&gt;
    &lt;span style&#x3D;&quot;background-color:white;&quot;&gt;Send&lt;/span&gt;
  &lt;/div&gt;
  &lt;input id&#x3D;&quot;input&quot; type&#x3D;&quot;text&quot; #input&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./game-dashboard.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.game-form{
    color: white;
    position: absolute;
    top: 71px !important;
    left: 10px !important;
}
.mar-b-0{
    margin-bottom: 0px;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div id=\'phaser-game\'></div><form class="game-form" id="coordinates" >  <div class="form-group mar-b-0">    <label for="xCoordinate" class="mar-b-0">X Coordinate</label>    <input class="form-control" type="text" #xCoordinate id="xCoordinate" style="width: 110px;height: 30px;">  </div>  <div class="form-group mar-b-0">    <label for="yCoordinate" class="mar-b-0">Y Coordinate</label>    <input class="form-control " type="text" #yCoordinate id="yCoordinate" style="width: 110px;height: 30px;">  </div></form><div class="send-button" style=\'position:absolute; top:300px;\'>    <textarea id=\'chat\'></textarea>  <div class="send" (click)="sendChatMessage(input.value)">    <span style="background-color:white;">Send</span>  </div>  <input id="input" type="text" #input></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'ChatComponent', 'selector': 'app-chat'},{'name': 'CreateAccountComponent', 'selector': 'app-create-account'},{'name': 'GameConfigLobbyComponent', 'selector': 'app-game-config-lobby'},{'name': 'GameDashboardComponent', 'selector': 'app-game-dashboard'},{'name': 'gameDiscoveryLobbyComponent', 'selector': 'app-game-discovery-lobby'},{'name': 'GamePregameComponent', 'selector': 'app-game-pregame'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'SigninComponent', 'selector': 'app-signin'},{'name': 'SocketsComponent', 'selector': 'app-sockets'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'GameDashboardComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'GameDashboardComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
